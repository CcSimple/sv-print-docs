---
title: 优化概览
category:
  - 使用指南
---

::: tip 注意

截止 2022-12-26 [vue-plugin-hiprint](https://gitee.com/CcSimple/vue-plugin-hiprint) 0.0.40 所有更新相关内容。

[hiprint](http://hiprint.io)官网提供的 2.5.4 版本中均不支持下列内容。

:::

### 编辑相关

| 优化功能                    | 说明                                          | 备注                                        |
| --------------------------- | --------------------------------------------- | ------------------------------------------- |
| backSpace / delete 删除元素 | 需要先选中元素                                | ==vue-plugin-hiprint==不支持框选删除        |
| 限制拖拽"边界"              | 让元素不可脱出纸张外                          | 可按住 Ctrl / Command 任意拖拽              |
| "多选"元素                  | 按住 Ctrl / Command 点击元素                  | 可键盘方向键 / 鼠标拖动 移动、删除          |
| "框选"元素                  | 支持从容易角度开始框选                        | ==框选后按住不动存在位置问题==              |
| "复制" / "粘贴"             | 基本元素的 Ctrl / Command + C / V(复制/粘贴)  | ==不支持 table==                            |
| "撤销" / "重做"             | Ctrl / Command + (Shift) + Z                  |                                             |
| 拖拽、跳动、辅助线          | 设置旋转角度后 辅助线显示不正常               |                                             |
| "旋转"控制点                | 拖拽旋转、双击还原                            |                                             |
| "缩放"纸张                  | 放大 / 缩小 拖动不乱跳                        |                                             |
| 禁止元素"拖拽"              | 锁定元素不可被拖拽                            |                                             |
| 显示元素"坐标位置"          |                                               |                                             |
| 显示元素"宽高大小"          |                                               | 支持重写样式(.resize-panel .size-box)       |
| 美化/自定义显示拖拽"控制点" |                                               | ==vue-plugin-hiprint==不支持                |
| 拖拽等比调整大小            | "条形码" / "二维码" / "图片"                  | 可按住 Shift 自由调整大学                   |
| 元素"对齐"                  | 需要先选中多个元素                            |                                             |
| 元素"间距"                  | 需要先选中多个元素                            |                                             |
| 元素"参数"                  | 需要先选中多个元素                            | 同时设置多个元素的"字体大小"等              |
| 表格"列宽"拖拽调整          | 修复 bug                                      |                                             |
| "拖动方向"                  | 指定方向拖动                                  | 按住 Shift 横向 拖动, Shift + Alt 竖向 拖动 |
| 元素"吸附对齐"              | 根据附近元素 上、下、左、右、中线位置吸附对齐 | 可按住 Ctrl / Command 拖拽取消吸附对齐      |
| 文本/长文 "双击编辑"        |                                               |                                             |
| 元素右键菜单                | 根据选中的元素 弹出对应右键菜单               | ==sv-print==                                |

### 功能相关

| 优化功能                               | 说明                                                                                                | 备注                                                |
| -------------------------------------- | --------------------------------------------------------------------------------------------------- | --------------------------------------------------- |
| 修改直接"打印客户端"主机               | `hiprint.hiwebSocket.setHost("xxx:17521")`                                                          | 链接本机或局域网主机                                |
| table 可设置"双击"选择列字段           | options 中 配置 fields                                                                              | 同元素 fields 例如:[{"text":'姓名',"field":'name'}] |
| table 可编辑(移除原有 tableCustom)     | 实现 tableCustom 的编辑,插入等功能                                                                  |                                                     |
| table "表头" 显示模式                  | 每页显示、首页显示、不显示                                                                          |                                                     |
| table "字段类型"                       | 可设置表格显示 图片、条形码、二维码                                                                 | 可设置高度                                          |
| table "聚合函数"                       | 表格底部显示 计数、合计、平均值、最大值、最小值                                                     | 可自定义内容、隐藏标题                              |
| "条形码"部分格式修复                   | EAN-13、EAN-8、ITF、UPC 等                                                                          |                                                     |
| "字段名"支持嵌套形式                   | 例如: a.b.c.d                                                                                       | ==不支持 a[0].b==                                   |
| 支持"不分页"                           | 适用 小票打印                                                                                       | 让 table / longText 不分页                          |
| "不自动连接"打印客户端                 | 不使用 "直接打印"功能                                                                               | disAutoConnect / autoConnect 不自动/自动连接        |
| "qrcode.js" vite 支持                  | vite 项目 二维码可正常使用                                                                          |                                                     |
| "参数面板" 可设置 "宽高大小"           | 支持 同步/不同步 编辑                                                                               |                                                     |
| 动态显示/隐藏 table "列"               | 同时 getJson 返回 相关列                                                                            |                                                     |
| 通过"tid"获取"拖拽元素"/更新"拖拽元素" | 动态更新左侧拖拽元素                                                                                | `hiprint.updateElementType(tid,(e)=>e)`             |
| 元素"不打印"功能                       | options 中 配置 `showInPage: 'none'`                                                                |                                                     |
| 刷新获取"打印机列表"                   | `hiprint.refreshPrinterList(list)=>{})`                                                             | 需已连接"直接打印客户端"                            |
| 获取"MAC 地址""IP 地址"                | `hiprint.getAddress('mac',(data)=>{})`                                                              | 需已连接"直接打印客户端"                            |
| 图片元素"选择"功能                     | new PrintTemplate 时 指定 `onImageChooseClick: (target) => {target.refresh('url',{})}` 更新图片地址 | 支持根据图片 宽 / 高 比例调整图片元素               |
| 图片元素"缩放格式"功能                 | object-fix: fill/contain/cover/none                                                                 |                                                     |
| "纸张面板"参数显示/隐藏                | 点击纸张空白处的一些参数 如: 首页页尾、偶数页页尾                                                   |                                                     |
| "横线/竖线"格式                        | 虚线 -> 长虚线、短虚线                                                                              |                                                     |
| 自定义可选"字体列表"                   | new PrintTemplate 时 指定 fontList: [{title:'宋体',value:'SimSun'}]                                 | 需要本机支持的字体                                  |
| 二维码"容错率"配置                     | options 中 qrcodeLevel: 1                                                                           | `{'L':1,'M':0,'Q':3,'H':2`                          |
| 自定义"参数"                           | hiprint.setConfig 配置 optionItems                                                                  |                                                     |
| 自定义"参数"                           | hiprint.setConfig 配置 optionItems                                                                  |                                                     |
| 打印预览"页码"可拖拽问题修复           | bug                                                                                                 |                                                     |
| 新增"强制分页"功能                     | 强制让当前元素在下一页开始显示(它之后的元素也会跟上它)                                              |                                                     |
| table "聚合函数" 小数位                | 自定义小数位数 0/1/2/3/4/5/6                                                                        |                                                     |
| table "聚合函数" 对齐方式              | 自定义对齐方式 left/center/right                                                                    |                                                     |
| table "聚合函数" 自定义文本            | 自定义文本                                                                                          |                                                     |
| table "聚合函数" 数字转大写            | 同时提供 `hinnn.toUpperCase('7',10.8) // 壹拾元捌角零分`                                            |                                                     |
| table "列自定义" 功能                  | 自定义 表格 列 渲染函数                                                                             |                                                     |
