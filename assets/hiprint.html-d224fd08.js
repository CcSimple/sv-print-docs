import{_ as n,W as s,X as a,a1 as t}from"./framework-e97450c6.js";const p={},e=t(`<div class="custom-container tip"><p class="custom-container-title">注意</p><p>这里的说的 <mark>hiprint</mark> 是全局的对象。可以理解成是个 <mark>Module</mark>。浏览器控制台输入 <code>hiprint</code> 即可查看。</p></div><h3 id="使用示例" tabindex="-1"><a class="header-anchor" href="#使用示例" aria-hidden="true">#</a> 使用示例</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 初始化 provider , 才能让 &quot;可拖拽元素&quot; 可正常拖拽 【因为要先去处理 provider 中的 &quot;tid&quot;】</span>
hiprint<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">providers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">defaultElementTypeProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// !!!【仅 sv-print 支持】</span>
<span class="token comment">// 注册插件</span>
<span class="token keyword">import</span> pluginScale <span class="token keyword">from</span> <span class="token string">&quot;@sv-print/plugin-scale&quot;</span><span class="token punctuation">;</span>
hiprint<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">pluginScale</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;缩放(自定义)&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 调整配置</span>
hiprint<span class="token punctuation">.</span><span class="token function">setConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 还原配置</span>
<span class="token comment">// 不显示 &quot;宽高大小&quot; 盒子 更多配置 可在浏览器控制台 输入 window.HIPRINT_CONFIG 查看。</span>
hiprint<span class="token punctuation">.</span><span class="token function">setConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">showSizeBox</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建模板对象 详见 &quot;模板&quot; 文档</span>
<span class="token keyword">let</span> hiprintTemplate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">hiprint<span class="token punctuation">.</span>PrintTemplate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> hiprintTemplate2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">hiprint<span class="token punctuation">.</span>PrintTemplate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 打印数据</span>
<span class="token keyword">let</span> printData <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;这是打印时显示的文本&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 多模板预览</span>
hiprint<span class="token punctuation">.</span><span class="token function">getHtml</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">templates</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">template</span><span class="token operator">:</span> hiprintTemplate<span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> printData <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">template</span><span class="token operator">:</span> hiprintTemplate2<span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> printData <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 多模板打印</span>
hiprint<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">templates</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">template</span><span class="token operator">:</span> hiprintTemplate<span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> printData <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">template</span><span class="token operator">:</span> hiprintTemplate2<span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> printData <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 多模板直接打印</span>
hiprint<span class="token punctuation">.</span><span class="token function">print2</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">templates</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">template</span><span class="token operator">:</span> hiprintTemplate<span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> printData<span class="token punctuation">,</span> <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">template</span><span class="token operator">:</span> hiprintTemplate2<span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> printData <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">printer</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">landscape</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;printSuccess&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;printError&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 更新 &quot;可拖拽元素&quot; 属性</span>
hiprint<span class="token punctuation">.</span><span class="token function">updateElementType</span><span class="token punctuation">(</span><span class="token string">&quot;defaultModule.text&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  type<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&quot;这是更新后的元素&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> type<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 切换 直接 &quot;打印客户端&quot; 主机</span>
hiprint<span class="token punctuation">.</span>hiwebSocket<span class="token punctuation">.</span><span class="token function">setHost</span><span class="token punctuation">(</span><span class="token string">&quot;192.168.2.3:17521&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 查看是否 已连接 &quot;直接打印客户端&quot;</span>
hiprint<span class="token punctuation">.</span>hiwebSocket<span class="token punctuation">.</span>opened<span class="token punctuation">;</span> <span class="token comment">// true 或 false</span>
<span class="token comment">// 刷新获取 打印机列表 !! 需要已连接 &quot;直接打印客户端&quot;</span>
hiprint<span class="token punctuation">.</span><span class="token function">refreshPrinterList</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取 MAC、IP 地址等 !! 需要已连接 &quot;直接打印客户端&quot;</span>
<span class="token comment">// 参数格式：</span>
<span class="token comment">// 1. 类型（ip、ipv6、mac、dns、all、interface、vboxnet）</span>
<span class="token comment">// 2. 回调 data =&gt; {addr, e}  addr: 返回的数据 e:错误信息</span>
<span class="token comment">// 3. 其他参数 ...args</span>
hiprint<span class="token punctuation">.</span><span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token string">&quot;mac&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;mac&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
hiprint<span class="token punctuation">.</span><span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token string">&quot;ip&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;ip&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// !!!【仅 sv-print 支持】</span>
<span class="token comment">// 查看当前已加载的 ElementTypes --&gt; provider</span>
hiprint<span class="token punctuation">.</span>ElementTypes<span class="token punctuation">.</span>allElementTypes<span class="token punctuation">;</span> <span class="token comment">// 所有 &quot;可拖拽元素&quot;</span>
<span class="token comment">// 查看 context.addPrintElementTypes(&quot;defaultModule&quot;,[]) 的元素</span>
<span class="token comment">// defaultModule 可以理解成 provider 的 key</span>
hiprint<span class="token punctuation">.</span>ElementTypes<span class="token punctuation">.</span>defaultModule<span class="token punctuation">;</span>
<span class="token comment">// 构建渲染 &quot;可拖拽元素&quot;</span>
hiprint<span class="token punctuation">.</span>PrintElementTypeManager<span class="token punctuation">.</span><span class="token function">buildByHtml</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;.ep-draggable-item&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 方式 1,完全自定义元素样式</span>
hiprint<span class="token punctuation">.</span>PrintElementTypeManager<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token string">&quot;.hiprintEpContainer2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;defaultModule&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 方式 2,仅显示分组和自定义元素的标题</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="api" tabindex="-1"><a class="header-anchor" href="#api" aria-hidden="true">#</a> API</h3><table><thead><tr><th>名称</th><th>说明</th><th>备注</th></tr></thead><tbody><tr><td>ElementTypes</td><td>查看&quot;可拖拽元素&quot;</td><td><mark>仅 sv-print 支持</mark></td></tr><tr><td>PrintElementTypeGroup</td><td>&quot;可拖拽元素&quot;分组</td><td></td></tr><tr><td>PrintElementTypeManager</td><td>&quot;可拖拽元素&quot;管理</td><td>构建&quot;可拖拽元素&quot;</td></tr><tr><td>init</td><td>初始化<code>provider</code></td><td><mark>重要</mark></td></tr><tr><td>PrintTemplate</td><td>创建模板对象</td><td><mark>核心</mark></td></tr><tr><td>register</td><td>注册<code>插件</code></td><td><mark>仅 sv-print 支持</mark></td></tr><tr><td>setConfig</td><td>更新配置</td><td></td></tr><tr><td>updateElementType</td><td>更新&quot;可拖拽元素&quot;参数</td><td></td></tr><tr><td>print</td><td><code>多模板</code>浏览器打印</td><td></td></tr><tr><td>print2</td><td><code>多模板</code>直接打印</td><td></td></tr><tr><td>getHtml</td><td><code>多模板</code>预览</td><td></td></tr><tr><td>hiwebSocket</td><td><code>socket.io</code> 对象</td><td>直接打印、切换 直接 &quot;打印客户端&quot; 主机等</td></tr><tr><td>refreshPrinterList</td><td>刷新获取打印机列表</td><td></td></tr><tr><td>getAddress</td><td>获取 <code>MAC</code>、<code>IP</code> 地址等</td><td><mark>需要已连接 &quot;直接打印客户端&quot;</mark></td></tr><tr><td>ippPrint</td><td><code>ipp</code>打印 <br><mark>不稳定</mark></td><td><mark>需要已连接 &quot;直接打印客户端&quot;</mark></td></tr><tr><td>ippRequest</td><td><code>ipp</code>自定义请求 <br><mark>不稳定</mark></td><td><mark>需要已连接 &quot;直接打印客户端&quot;</mark></td></tr></tbody></table>`,5),o=[e];function c(i,l){return s(),a("div",null,o)}const r=n(p,[["render",c],["__file","hiprint.html.vue"]]);export{r as default};
